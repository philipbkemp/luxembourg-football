<!DOCTYPE html>
<html>
    <head>
        <title>LuxFoot | Seasons</title>
        <link href="styles.css" rel="stylesheet" />
    </head>
    <body>
        <h1>Luxembourgish Football: Seasons</h1>
        <a href="index.html">Home</a> | <a href="seasons.html">Seasons</a>
        <script>
            params=[];
            window.location.search.replace("?","").split("&").forEach(param=>{parts=param.split("=");params[parts[0]]=parts[1];});
            season = params.year;
            seasonPath = [season[0]+""+season[1],season[2],season[3]+"-"+season.split("-")[1]];
            fetch("seasons/"+seasonPath.join("/")+".json")
                .then(response => {
                    if ( ! response.ok ) {
                        throw new Error("Failed to load JSON");
                    }
                    return response.json()
                })
                .then(data => {
                    document.getElementsByTagName("title")[0].textContent += " | " + data.season;
                    document.getElementsByTagName("h1")[0].textContent += " : " + data.season;
                    console.log(data);
                })
                .catch(error => {
                    console.error(error.message);
                });
        </script>
    </body>
</html>